<!DOCTYPE html>
<html>
<head>
    <title>LIFF Login</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script> 
    <script>
        function initializeLiff() {
            liff.init({
                liffId: '2005784883-MqXYJ2vW' // เปลี่ยนเป็น LIFF ID ของคุณ
            }).then(() => {
                if (liff.isLoggedIn()) {
                    // ผู้ใช้ login แล้ว
                    getUserProfile();
                } else {
                    // ผู้ใช้ยังไม่ได้ login
                    liff.login(); 
                }
            }).catch((err) => {
                console.error('LIFF initialization failed ', err);
            });
        }

        function getUserProfile() {
            liff.getProfile().then(profile => {
                const name = profile.displayName;
                // ทำอะไรก็ได้กับข้อมูล profile เช่น แสดงชื่อ
                alert('Hello, ' + name);
            }).catch((err) => {
                console.error('Error getting profile: ', err);
            });
        }

        window.onload = initializeLiff; 
    </script>
</head>
<body>
    <p>LIFF Login Page</p>
</body>
</html>
